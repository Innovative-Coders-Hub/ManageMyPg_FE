import{d as f,u as b,r as n,j as e}from"./index-H6XvjGiV.js";const j=({email:r,password:a})=>f.post("/admin/login",{email:r,password:a});function w(){const r=b(),[a,g]=n.useState(""),[o,u]=n.useState(""),[d,l]=n.useState(""),[c,m]=n.useState(!1),x=async t=>{t.preventDefault(),l(""),m(!0);try{const s=await j({email:a,password:o});if(!s?.success||!s?.data?.accessToken)throw new Error(s?.message||"Invalid login response");const{accessToken:i,refreshToken:p,expiresIn:h}=s.data;localStorage.setItem("admin_jwt",i),localStorage.setItem("admin_refresh_token",p),localStorage.setItem("admin_token_expiry",Date.now()+h),localStorage.setItem("role","ADMIN"),localStorage.setItem("isAdmin","true"),r("/admin/dashboard",{replace:!0})}catch(s){const i=s?.response?.data?.message||s?.message||"Invalid email or password";l(i)}finally{m(!1)}};return e.jsx("div",{className:"min-h-[calc(100vh-64px)] flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white border rounded-2xl shadow-lg p-6 md:p-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-indigo-500 to-pink-500 flex items-center justify-center text-white font-bold",children:"A"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold",children:"Admin Console"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Sign in to manage records and analytics"})]})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),e.jsx("input",{type:"email",value:a,onChange:t=>g(t.target.value),placeholder:"admin@admin.com",className:"w-full p-3 border rounded-md focus:ring focus:ring-indigo-100",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Password"}),e.jsx("input",{type:"password",value:o,onChange:t=>u(t.target.value),placeholder:"••••••••",className:"w-full p-3 border rounded-md focus:ring focus:ring-indigo-100",required:!0})]}),d&&e.jsx("div",{className:"text-sm text-red-600 text-center",children:d}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 rounded-md bg-indigo-600 text-white font-semibold hover:bg-indigo-700 disabled:opacity-60",children:c?"Signing in…":"Sign in"})]})]})})}export{w as default};
