import{r as m,j as e}from"./index-DZruhiV_.js";import{P as N}from"./PageHeader-D4m0aPrs.js";const g=({className:l="h-4 w-4"})=>e.jsx("svg",{viewBox:"0 0 24 24",className:l,fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{d:"M12 3a1 1 0 0 1 1 1v9.586l2.293-2.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4A1 1 0 0 1 8.707 11.293L11 13.586V4a1 1 0 0 1 1-1Zm-7 16a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Z"})}),y=({className:l="h-4 w-4"})=>e.jsx("svg",{viewBox:"0 0 24 24",className:l,fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{d:"M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1a3 3 0 0 1 3 3v11a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h1V3a1 1 0 0 1 1-1Zm12 8H5v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-8Z"})}),f=({className:l="h-4 w-4"})=>e.jsx("svg",{viewBox:"0 0 24 24",className:l,fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{d:"M4 20h16v2H4v-2Zm2-2h5V2H6v16Zm7 0h5V6h-5v12Z"})});function v({values:l=[]}){const t=Math.max(1,...l);return e.jsx("div",{className:"flex items-end gap-1 h-10",children:l.map((a,d)=>e.jsx("div",{className:"flex-1 rounded bg-indigo-200",style:{height:`${a/t*100}%`},title:`${a}`},d))})}function c({value:l=0,label:t}){const a=Math.max(0,Math.min(100,l));return e.jsxs("div",{children:[t&&e.jsx("div",{className:"mb-1 text-xs text-gray-600",children:t}),e.jsx("div",{className:"h-2 w-full rounded bg-gray-100 overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500",style:{width:`${a}%`}})}),e.jsxs("div",{className:"mt-1 text-xs text-gray-700",children:[a,"%"]})]})}function x({title:l,value:t,sub:a,trend:d}){return e.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[e.jsx("div",{className:"text-xs text-gray-600",children:l}),e.jsx("div",{className:"mt-1 text-2xl font-bold",children:t}),a&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:a}),Array.isArray(d)&&d.length>0&&e.jsx("div",{className:"mt-3",children:e.jsx(v,{values:d})})]})}function k(){const[l,t]=m.useState("all"),[a,d]=m.useState("last_30"),i=m.useMemo(()=>({occupancyPct:81,mtdRevenue:245e3,duesOutstanding:48e3,churnRatePct:4.2,occupancyTrend:[68,72,70,75,78,81],revenueTrend:[180,195,210,220,235,245]}),[]),r=s=>{const u=[["Report",s],["GeneratedAt",new Date().toISOString()],["Filters",`pg=${l}; range=${a}`]].map(p=>p.map(b=>`"${String(b).replaceAll('"','""')}"`).join(",")).join(`
`),j=new Blob([u],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(j),o=document.createElement("a");o.href=h,o.download=`${s}.csv`,o&&o.click(),URL.revokeObjectURL(h)},n=s=>{alert(`PDF export placeholder for ${s}. Integrate jsPDF later.`)};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{title:"Reports"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>r("all_reports_summary"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border hover:bg-gray-50 text-sm",children:[e.jsx(g,{})," Export CSV"]}),e.jsxs("button",{onClick:()=>n("all_reports_summary"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm hover:bg-indigo-700",children:[e.jsx(g,{})," Export PDF"]})]})]}),e.jsx("div",{className:"z-10",children:e.jsx("div",{className:"rounded-2xl border bg-white/80 backdrop-blur p-4 shadow-sm",children:e.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 items-end",children:[e.jsxs("label",{className:"block text-sm",children:[e.jsxs("span",{className:"font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(f,{})," PG"]}),e.jsxs("select",{value:l,onChange:s=>t(s.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All PGs"}),e.jsx("option",{value:"pg1",children:"Bliss Mens PG"}),e.jsx("option",{value:"pg2",children:"Bliss Womens PG"})]})]}),e.jsxs("label",{className:"block text-sm",children:[e.jsxs("span",{className:"font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(y,{})," Date Range"]}),e.jsxs("select",{value:a,onChange:s=>d(s.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"this_month",children:"This month"}),e.jsx("option",{value:"last_30",children:"Last 30 days"}),e.jsx("option",{value:"last_90",children:"Last 90 days"}),e.jsx("option",{value:"this_year",children:"This year"})]})]}),e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx("button",{onClick:()=>{t("all"),d("last_30")},className:"px-3 py-2 rounded-lg border hover:bg-gray-50 text-sm",children:"Reset"})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{title:"Occupancy",value:`${i.occupancyPct}%`,sub:"Across selected range",trend:i.occupancyTrend}),e.jsx(x,{title:"MTD Revenue",value:`₹${(i.mtdRevenue/1e3).toFixed(0)}k`,sub:"Collected",trend:i.revenueTrend}),e.jsx(x,{title:"Outstanding Dues",value:`₹${(i.duesOutstanding/1e3).toFixed(0)}k`,sub:"All tenants"}),e.jsx(x,{title:"Tenant Churn",value:`${i.churnRatePct}%`,sub:"Move-outs vs total"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Occupancy Overview"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r("occupancy_overview"),className:"px-2 py-1 rounded border text-xs hover:bg-gray-50",children:"CSV"}),e.jsx("button",{onClick:()=>n("occupancy_overview"),className:"px-2 py-1 rounded bg-indigo-600 text-white text-xs hover:bg-indigo-700",children:"PDF"})]})]}),e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsx(c,{label:"Overall occupancy",value:i.occupancyPct}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsx(c,{label:"AC rooms",value:86}),e.jsx(c,{label:"Non‑AC rooms",value:76})]})]})]}),e.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Revenue & Collections"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r("revenue_collections"),className:"px-2 py-1 rounded border text-xs hover:bg-gray-50",children:"CSV"}),e.jsx("button",{onClick:()=>n("revenue_collections"),className:"px-2 py-1 rounded bg-indigo-600 text-white text-xs hover:bg-indigo-700",children:"PDF"})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Billed (MTD)"}),e.jsx("div",{className:"font-semibold",children:"₹2.70L"})]}),e.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Collected (MTD)"}),e.jsx("div",{className:"font-semibold",children:"₹2.45L"})]}),e.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Pending"}),e.jsx("div",{className:"font-semibold",children:"₹0.25L"})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx(v,{values:i.revenueTrend})})]}),e.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Dues Aging"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r("dues_aging"),className:"px-2 py-1 rounded border text-xs hover:bg-gray-50",children:"CSV"}),e.jsx("button",{onClick:()=>n("dues_aging"),className:"px-2 py-1 rounded bg-indigo-600 text-white text-xs hover:bg-indigo-700",children:"PDF"})]})]}),e.jsx("div",{className:"mt-3 grid grid-cols-4 gap-2 text-xs",children:[{label:"0–7d",val:14},{label:"8–15d",val:9},{label:"16–30d",val:5},{label:">30d",val:3}].map(s=>e.jsxs("div",{className:"rounded-xl border p-3 text-center",children:[e.jsx("div",{className:"text-gray-600",children:s.label}),e.jsx("div",{className:"mt-1 text-lg font-semibold",children:s.val})]},s.label))})]}),e.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Movement (Next 30 days)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r("movements"),className:"px-2 py-1 rounded border text-xs hover:bg-gray-50",children:"CSV"}),e.jsx("button",{onClick:()=>n("movements"),className:"px-2 py-1 rounded bg-indigo-600 text-white text-xs hover:bg-indigo-700",children:"PDF"})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"rounded-xl border p-3 bg-green-50",children:[e.jsx("div",{className:"text-gray-700 text-xs",children:"Expected Joins"}),e.jsx("div",{className:"font-semibold text-green-700",children:"12"})]}),e.jsxs("div",{className:"rounded-xl border p-3 bg-amber-50",children:[e.jsx("div",{className:"text-gray-700 text-xs",children:"Expected Vacates"}),e.jsx("div",{className:"font-semibold text-amber-700",children:"8"})]})]})]}),e.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Utilization by Sharing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r("utilization_sharing"),className:"px-2 py-1 rounded border text-xs hover:bg-gray-50",children:"CSV"}),e.jsx("button",{onClick:()=>n("utilization_sharing"),className:"px-2 py-1 rounded bg-indigo-600 text-white text-xs hover:bg-indigo-700",children:"PDF"})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"rounded-xl border p-3",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"2‑sharing"}),e.jsx(c,{value:88})]}),e.jsxs("div",{className:"rounded-xl border p-3",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"3‑sharing"}),e.jsx(c,{value:79})]}),e.jsxs("div",{className:"rounded-xl border p-3",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"4‑sharing"}),e.jsx(c,{value:73})]})]})]}),e.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Payment Modes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r("payment_modes"),className:"px-2 py-1 rounded border text-xs hover:bg-gray-50",children:"CSV"}),e.jsx("button",{onClick:()=>n("payment_modes"),className:"px-2 py-1 rounded bg-indigo-600 text-white text-xs hover:bg-indigo-700",children:"PDF"})]})]}),e.jsx("div",{className:"mt-3 grid grid-cols-4 gap-2 text-xs",children:[{label:"UPI",val:52},{label:"Cash",val:28},{label:"Card",val:12},{label:"Bank",val:8}].map(s=>e.jsxs("div",{className:"rounded-xl border p-3 text-center",children:[e.jsx("div",{className:"text-gray-600",children:s.label}),e.jsxs("div",{className:"mt-1 text-lg font-semibold",children:[s.val,"%"]})]},s.label))})]}),e.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Deposits Ledger"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r("deposits_ledger"),className:"px-2 py-1 rounded border text-xs hover:bg-gray-50",children:"CSV"}),e.jsx("button",{onClick:()=>n("deposits_ledger"),className:"px-2 py-1 rounded bg-indigo-600 text-white text-xs hover:bg-indigo-700",children:"PDF"})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Held Deposits"}),e.jsx("div",{className:"font-semibold",children:"₹3.80L"})]}),e.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Refunds (MTD)"}),e.jsx("div",{className:"font-semibold",children:"₹0.35L"})]}),e.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Net Change"}),e.jsx("div",{className:"font-semibold",children:"₹+0.10L"})]})]})]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Tip: Click Export on any tile to download a CSV/PDF snapshot with current filters. Replace the placeholder export code with your API-backed data when ready."})]})}export{k as default};
