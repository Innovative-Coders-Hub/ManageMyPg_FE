import{f as h,u as j,r as c,j as e}from"./index-DZruhiV_.js";import{s as o}from"./sampleData-CzbAm5hk.js";import{P as u}from"./PageHeader-D4m0aPrs.js";import{d as g}from"./dayjs.min-7h3eaHmg.js";function b(){const{id:i}=h();j();const d=o.owners.find(s=>s.id===i),x=o.pgs.filter(s=>s.ownerId===i),[t,m]=c.useState(x),r=c.useMemo(()=>({total:t.length,approved:t.filter(s=>s.status==="approved").length,pending:t.filter(s=>s.status==="pending").length,blocked:t.filter(s=>s.status==="blocked").length}),[t]);function p(s,a){m(l=>l.map(n=>n.id===s?{...n,status:a,approvedAt:a==="approved"?g().format("YYYY-MM-DD HH:mm"):n.approvedAt}:n))}return d?e.jsxs("div",{children:[e.jsx(u,{title:`Owner: ${d.name}`,subtitle:d.email}),e.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border",children:[e.jsxs("div",{className:"text-lg font-semibold mb-3",children:["PGs by ",d.name]}),e.jsxs("div",{className:"md:flex md:items-start gap-6",children:[e.jsx("div",{className:"flex-1 overflow-x-auto",children:t.length===0?e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No pgs are created yet."}):e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"text-left text-xs text-gray-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2",children:"PG Name"}),e.jsx("th",{className:"py-2",children:"Address"}),e.jsx("th",{className:"py-2",children:"Status"}),e.jsx("th",{className:"py-2",children:"Created At"}),e.jsx("th",{className:"py-2",children:"Approved At"}),e.jsx("th",{className:"py-2",children:"Action"})]})}),e.jsx("tbody",{children:t.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-2",children:s.name}),e.jsx("td",{className:"py-2",children:s.address}),e.jsxs("td",{className:"py-2",children:[s.status==="approved"&&e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:"Approved"}),s.status==="pending"&&e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"}),s.status==="blocked"&&e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700",children:"Blocked"}),!s.status&&e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700",children:"—"})]}),e.jsx("td",{className:"py-2",children:s.registeredAt??"—"}),e.jsx("td",{className:"py-2",children:s.approvedAt??"—"}),e.jsx("td",{className:"py-2",children:e.jsx("div",{children:e.jsxs("select",{defaultValue:"",onChange:a=>{const l=a.target.value;l&&(p(s.id,l),a.target.selectedIndex=0)},className:"border rounded px-2 py-1 text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Actions"}),e.jsx("option",{value:"approved",children:"Approve"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"blocked",children:"Block"})]},s.status)})})]},s.id))})]})}),e.jsx("aside",{className:"w-44 shrink-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gray-50 p-2 rounded-md text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total PGs"}),e.jsx("div",{className:"text-lg font-bold",children:r.total})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-md text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Approved"}),e.jsx("div",{className:"text-lg font-bold text-green-700",children:r.approved})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-md text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Pending"}),e.jsx("div",{className:"text-lg font-bold text-yellow-800",children:r.pending})]})]})})]})]})]}):e.jsx("div",{className:"p-6",children:"Owner not found"})}export{b as default};
