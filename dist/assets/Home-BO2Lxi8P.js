import{r as d,j as e,L as c}from"./index-DZruhiV_.js";import{P as u}from"./PageHeader-D4m0aPrs.js";const j=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17 7l-5-5-5 5M12 2v20"})}),v=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M7 17l5 5 5-5M12 22V2"})});function b({data:s=[],width:t=80,height:a=26}){if(!s.length)return e.jsx("span",{className:"text-gray-400 text-xs",children:"—"});const i=Math.max(...s),l=Math.min(...s),o=t/(s.length-1),r=s.map((h,m)=>{const p=m*o,g=a-(h-l)/(i-l||1)*a;return`${p},${g}`}).join(" "),x=s[s.length-1]>=s[0];return e.jsx("svg",{width:t,height:a,children:e.jsx("polyline",{fill:"none",stroke:x?"#22c55e":"#ef4444",strokeWidth:"2",points:r})})}function n({title:s,value:t,to:a,color:i,meta:l,sparkline:o}){return e.jsx(c,{to:a,className:"block",children:e.jsxs("div",{className:`rounded-2xl p-4 text-white shadow-md hover:scale-105 transition ${i}`,style:{minHeight:120},children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm opacity-90",children:s}),e.jsx("div",{className:"text-2xl font-bold mt-2",children:t??"—"})]}),l&&e.jsxs("div",{className:"text-xs flex items-center gap-1",children:[l.trend==="up"&&e.jsx(j,{}),l.trend==="down"&&e.jsx(v,{}),l.label]})]}),e.jsxs("div",{className:"mt-3 flex justify-between",children:[e.jsx("div",{className:"text-xs text-white/90",children:l?.subtitle}),o&&e.jsx(b,{data:o})]})]})})}function M(){const s={totalBeds:20,filledBeds:15,upcomingVacatingBeds:2,currentMonthJoined:3,last3MonthsJoined:8,lastMonthVacated:1,last3MonthsVacated:4,upcomingVacationsThisMonth:2,history:{filledBeds:[12,13,13,14,15,15,15],joined:[0,1,0,2,1,0,3],vacated:[0,0,1,0,0,1,1]}},[t,a]=d.useState(null);return d.useEffect(()=>{setTimeout(()=>{a(s)},500)},[]),t?e.jsxs("div",{className:"space-y-6",children:[e.jsx(u,{title:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5",children:[e.jsx(n,{title:"Total beds",value:t.totalBeds,to:"/my-pgs",color:"bg-blue-600"}),e.jsx(n,{title:"Filled beds",value:t.filledBeds,to:"/my-pgs",sparkline:t.history.filledBeds,color:"bg-green-600",meta:{label:`${Math.round(t.filledBeds/t.totalBeds*100)}%`,subtitle:"Occupancy rate",trend:"up"}}),e.jsx(n,{title:"Upcoming vacating beds",value:t.upcomingVacatingBeds,to:"/my-pgs",sparkline:t.history.vacated,color:"bg-yellow-400 text-black",meta:{label:t.upcomingVacatingBeds,trend:"down"}}),e.jsx(n,{title:"Joined (this month)",value:t.currentMonthJoined,to:"/tenants",color:"bg-purple-600",sparkline:t.history.joined,meta:{label:t.currentMonthJoined}}),e.jsx(n,{title:"Joined (last 3 months)",value:t.last3MonthsJoined,to:"/tenants",color:"bg-indigo-600",sparkline:t.history.joined,meta:{label:t.last3MonthsJoined}}),e.jsx(n,{title:"Last month vacated",value:t.lastMonthVacated,to:"/tenants",sparkline:t.history.vacated,color:"bg-red-600",meta:{label:t.lastMonthVacated}}),e.jsx(n,{title:"Last 3 months vacated",value:t.last3MonthsVacated,to:"/tenants",sparkline:t.history.vacated,color:"bg-orange-500",meta:{label:t.last3MonthsVacated}}),e.jsx(n,{title:"Upcoming vacations (this month)",value:t.upcomingVacationsThisMonth,to:"/my-pgs",color:"bg-pink-600",meta:{label:t.upcomingVacationsThisMonth}})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Overall Occupancy"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(t.filledBeds/t.totalBeds*100),"% occupied"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(c,{to:"/complaints",className:"px-3 py-2 bg-yellow-100 text-yellow-800 rounded-md",children:"View complaints"}),e.jsx(c,{to:"/tenants",className:"px-3 py-2 bg-indigo-600 text-white rounded-md",children:"Manage tenants"})]})]})]}):e.jsx("div",{className:"p-4",children:"Loading dashboard..."})}export{M as default};
